{"ast":null,"code":"import moment from 'moment';\nimport findIndex from 'lodash/findIndex';\nimport { isArray, isNull } from 'lodash';\nimport { DeadLine } from 'shared/constants/constants';\nexport const createAction = (ACTION, data = null) => {\n  return {\n    type: ACTION,\n    payload: data\n  };\n};\nexport const createLoadingSelector = actions => state => {\n  // returns true only when all actions is not loading\n  let loader = false;\n  for (let i = 0; i < actions.length; i += 1) {\n    if (state.loading.api[actions[i]]) {\n      loader = true;\n      break;\n    }\n  }\n  return loader;\n};\n\n/**\n * function which returns formatted date\n * @param date\n */\nexport const formatDate = (date, format) => {\n  if (!date) {\n    return '';\n  }\n  return moment(date).local().format(format || 'DD-MM-YYYY | HH:mm:ss');\n};\n/**\n * function to convert date to iso string and set seconds/milliseconds to zero\n * @param date\n */\nexport const convertDateToISOString = date => {\n  if (!date) {\n    return '';\n  }\n  return moment(date).set({\n    seconds: 0,\n    milliseconds: 0\n  }).toISOString();\n};\nexport const debounce = (func, wait = 400) => {\n  let h;\n  return (...args) => {\n    clearTimeout(h);\n    h = setTimeout(() => func(...args), wait);\n  };\n};\nconst numberFormatterInstance = new Intl.NumberFormat('de-DE');\nexport const numberFormatter = value => {\n  return numberFormatterInstance.format(value);\n};\nexport const setFileInputValue = (event, callBack, key, values, types) => {\n  const files = event.target.files;\n  if (!files || !files[0]) {\n    return;\n  }\n  const fileList = Array.from(files);\n  let data = {};\n  if (isArray(values)) {\n    data = values;\n    if (!data) {\n      data = [];\n    }\n    if (fileList.length > 0 && fileList.length <= 8) {\n      for (const file of fileList) {\n        const validateFileIndex = types ? findIndex(types, type => file.type.startsWith(type)) : -1;\n        if (validateFileIndex >= 0) {\n          data.push({\n            file: file,\n            url: window.URL.createObjectURL(file),\n            type: file.type.startsWith('image') ? 'image' : 'video'\n          });\n        }\n      }\n    }\n  } else {\n    const file = fileList[0];\n    data = {\n      file: file,\n      url: window.URL.createObjectURL(file),\n      type: file.type.startsWith('image') ? 'image' : 'video'\n    };\n  }\n  callBack(key, data);\n};\nexport const isMobile = () => {\n  if (typeof navigator === 'undefined' || typeof navigator.userAgent !== 'string') {\n    return false;\n  }\n  return /Mobile/.test(navigator.userAgent);\n};\nexport const windowScroll = (value, position = 'top', behavior = 'smooth') => window.scrollTo({\n  [position]: value,\n  behavior: behavior\n});\nexport const toRoundTwoDecimal = num => {\n  return Math.round(num * 100) / 100 || 0;\n};\nexport const dateFormate = date => {\n  return moment(date).format('DD/MM/YYYY');\n};\nexport const dateFormat = (date, format = 'YYYY-DD-MM') => {\n  if (isNull(date)) {\n    return null;\n  }\n  return moment(date.toISOString()).format(format);\n};\nexport const getStartingIndex = (recordPerPage, currentPage) => {\n  return recordPerPage * (currentPage - 1);\n};\nexport const getTextColor = (leave, range) => {\n  return leave > range[1] ? 'green' : leave === range[0] ? 'red' : 'blue';\n};\nexport const getTotalWorkingHourColor = time => {\n  const actualHour = moment(time, 'HH:mm');\n  const dealLine = moment(DeadLine.WORKING_HOURS, 'HH:mm');\n  return actualHour.isBefore(dealLine) ? 'red' : 'green';\n};\nexport const getCheckInColor = (time, deadline) => {\n  const actualHour = moment(time, 'HH:mm:ss');\n  const dealLine = moment(deadline, 'HH:mm:ss');\n  return actualHour.isAfter(dealLine) ? 'red' : 'green';\n};\nexport const getCheckOutColor = time => {\n  const actualHour = moment(time, 'HH:mm:ss');\n  const dealLine = moment(DeadLine.CHECK_OUT, 'HH:mm:ss');\n  return actualHour.isBefore(dealLine) ? 'red' : 'green';\n};\nexport const capitalizeFirstLetter = string => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\nexport const getDay = date => {\n  return moment(date).format('dddd');\n};","map":{"version":3,"names":["moment","findIndex","isArray","isNull","DeadLine","createAction","ACTION","data","type","payload","createLoadingSelector","actions","state","loader","i","length","loading","api","formatDate","date","format","local","convertDateToISOString","set","seconds","milliseconds","toISOString","debounce","func","wait","h","args","clearTimeout","setTimeout","numberFormatterInstance","Intl","NumberFormat","numberFormatter","value","setFileInputValue","event","callBack","key","values","types","files","target","fileList","Array","from","file","validateFileIndex","startsWith","push","url","window","URL","createObjectURL","isMobile","navigator","userAgent","test","windowScroll","position","behavior","scrollTo","toRoundTwoDecimal","num","Math","round","dateFormate","dateFormat","getStartingIndex","recordPerPage","currentPage","getTextColor","leave","range","getTotalWorkingHourColor","time","actualHour","dealLine","WORKING_HOURS","isBefore","getCheckInColor","deadline","isAfter","getCheckOutColor","CHECK_OUT","capitalizeFirstLetter","string","charAt","toUpperCase","slice","getDay"],"sources":["/home/khushbu/workspace/scrum-master-v2/src/shared/util/utility.ts"],"sourcesContent":["import moment, { Moment } from 'moment';\nimport findIndex from 'lodash/findIndex';\n\nimport { Action, State } from '../interface';\nimport { isArray, isNull } from 'lodash';\nimport { DeadLine } from 'shared/constants/constants';\n\nexport const createAction = (ACTION: string, data: any = null): Action => {\n\treturn {\n\t\ttype: ACTION,\n\t\tpayload: data\n\t};\n};\n\nexport const createLoadingSelector = (actions: string[]) => (state: State) => {\n\t// returns true only when all actions is not loading\n\tlet loader = false;\n\tfor (let i = 0; i < actions.length; i += 1) {\n\t\tif (state.loading.api[actions[i]]) {\n\t\t\tloader = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn loader;\n};\n\n/**\n * function which returns formatted date\n * @param date\n */\nexport const formatDate = (date: any, format?: string) => {\n\tif (!date) {\n\t\treturn '';\n\t}\n\treturn moment(date)\n\t\t.local()\n\t\t.format(format || 'DD-MM-YYYY | HH:mm:ss');\n};\n/**\n * function to convert date to iso string and set seconds/milliseconds to zero\n * @param date\n */\nexport const convertDateToISOString = (date: any) => {\n\tif (!date) {\n\t\treturn '';\n\t}\n\treturn moment(date).set({ seconds: 0, milliseconds: 0 }).toISOString();\n};\n\nexport const debounce = (func: any, wait = 400) => {\n\tlet h: NodeJS.Timeout;\n\treturn (...args: any) => {\n\t\tclearTimeout(h);\n\t\th = setTimeout(() => func(...args), wait);\n\t};\n};\n\nconst numberFormatterInstance = new Intl.NumberFormat('de-DE');\n\nexport const numberFormatter = (value: number) => {\n\treturn numberFormatterInstance.format(value);\n};\n\nexport const setFileInputValue = (\n\tevent: React.ChangeEvent<HTMLInputElement>,\n\tcallBack: (name: string, value: any) => void,\n\tkey: string,\n\tvalues: any[] | Record<string, unknown>,\n\ttypes: string[]\n) => {\n\tconst files = event.target.files;\n\tif (!files || !files[0]) {\n\t\treturn;\n\t}\n\tconst fileList = Array.from(files);\n\tlet data: any = {};\n\tif (isArray(values)) {\n\t\tdata = values;\n\t\tif (!data) {\n\t\t\tdata = [];\n\t\t}\n\t\tif (fileList.length > 0 && fileList.length <= 8) {\n\t\t\tfor (const file of fileList) {\n\t\t\t\tconst validateFileIndex = types ? findIndex(types, (type) => file.type.startsWith(type)) : -1;\n\t\t\t\tif (validateFileIndex >= 0) {\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tfile: file,\n\t\t\t\t\t\turl: window.URL.createObjectURL(file),\n\t\t\t\t\t\ttype: file.type.startsWith('image') ? 'image' : 'video'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconst file = fileList[0];\n\t\tdata = {\n\t\t\tfile: file,\n\t\t\turl: window.URL.createObjectURL(file),\n\t\t\ttype: file.type.startsWith('image') ? 'image' : 'video'\n\t\t};\n\t}\n\tcallBack(key, data);\n};\n\nexport const isMobile = () => {\n\tif (typeof navigator === 'undefined' || typeof navigator.userAgent !== 'string') {\n\t\treturn false;\n\t}\n\treturn /Mobile/.test(navigator.userAgent);\n};\n\nexport const windowScroll = (\n\tvalue: number,\n\tposition: 'top' | 'bottom' = 'top',\n\tbehavior: 'auto' | 'smooth' = 'smooth'\n) =>\n\twindow.scrollTo({\n\t\t[position]: value,\n\t\tbehavior: behavior\n\t});\n\nexport const toRoundTwoDecimal = (num: number) => {\n\treturn Math.round(num * 100) / 100 || 0;\n};\n\nexport const dateFormate = (date: Moment) => {\n\treturn moment(date).format('DD/MM/YYYY');\n};\n\nexport const dateFormat = (date: Date, format = 'YYYY-DD-MM') => {\n\tif (isNull(date)) {\n\t\treturn null;\n\t}\n\treturn moment(date.toISOString()).format(format);\n};\n\nexport const getStartingIndex = (recordPerPage: number, currentPage: number) => {\n\treturn recordPerPage * (currentPage - 1);\n};\n\n\nexport const getTextColor =((leave: number, range: number[]) => {\n\treturn leave > range[1] ? 'green' : leave === range[0] ? 'red' : 'blue';\n});\n\n\nexport const getTotalWorkingHourColor = (time: string) => {\n\tconst actualHour = moment(time, 'HH:mm');\n\tconst dealLine = moment(DeadLine.WORKING_HOURS, 'HH:mm');\n\treturn actualHour.isBefore(dealLine) ? 'red' : 'green';\n};\n\nexport const getCheckInColor = (time: string, deadline: string) => {\n\tconst actualHour = moment(time, 'HH:mm:ss');\n\tconst dealLine = moment(deadline, 'HH:mm:ss');\n\treturn actualHour.isAfter(dealLine) ? 'red' : 'green';\n};\n\nexport const getCheckOutColor = (time: string) => {\n\tconst actualHour = moment(time, 'HH:mm:ss');\n\tconst dealLine = moment(DeadLine.CHECK_OUT, 'HH:mm:ss');\n\treturn actualHour.isBefore(dealLine) ? 'red' : 'green';\n};\n\nexport const capitalizeFirstLetter = (string: string) => {\n\treturn string.charAt(0).toUpperCase() + string.slice(1);\n};\n\nexport const getDay = (date: Moment) => {\n    return moment(date).format('dddd');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}